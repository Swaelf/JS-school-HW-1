(()=>{"use strict";var e={460:(e,t,n)=>{n.d(t,{Z:()=>w});var s=n(81),o=n.n(s),r=n(645),a=n.n(r),i=n(667),l=n.n(i),c=new URL(n(55),n.b),d=new URL(n(932),n.b),p=new URL(n(606),n.b),h=new URL(n(669),n.b),m=a()(o());m.push([e.id,"@import url(https://fonts.googleapis.com/css?family=Nunito);"]);var u=l()(c),x=l()(d),b=l()(p),g=l()(h);m.push([e.id,"body, html {\n    margin: 0;\n    font-family: Nunito;\n}\n\nbody {\n    position: absolute;\n    top: 0;\n    left: 0;\n    padding-top: 44px;\n    padding-left: 164px;\n    box-sizing: border-box;\n}\n\n.container {\n    display: flex;\n    flex-direction: column;\n    gap: 32px;\n}\n\n.screenlock {\n    display: none;\n    position: absolute;\n    top: 0;\n    left: 0;\n    margin: 0;\n    background-color: #88888850;\n    height: calc(max(100%, 100vh));\n    width: calc(max(100%, 100vw));\n}\n\n.button__add {\n    width: 158.15px;\n    background-color: #3C86F426;\n    border-radius: 12px;\n    padding: 16px 32px 16px 32px;\n    gap: 10px;\n    border: none;\n    color: #0053CF;\n    font-weight: 800;\n    font-size: 16px;\n}\n\n.button__remove {\n    background-image: url("+u+");\n    background-color: #FFF;\n    background-repeat: no-repeat;\n    width: 16px;\n    height: 16px;\n    border: none;\n}\n\n.button__remove:hover {\n    background-image: url("+x+");\n    background-color: #FFF;\n    background-repeat: no-repeat;\n}\n\n\n.topbar {\n    padding-top: 10px;\n    padding-bottom: 10px;\n    display: flex;\n    width: 951px;\n    height: 52px;\n    border-radius: 12px;\n    gap: 40px;\n}\n\n.topbar__search {\n    display: flex;\n    width: 752.85px;\n    background-color: #F5F5F5;\n    border: 1px solid #D2D2D2;\n    border-radius: 12px;\n    padding: 16px 21px 16px 21px;\n    gap: 10px;\n    box-sizing: border-box;\n}\n\n.topbar__search::placeholder {\n    color: #838383;\n    font-size: 16px;\n}\n\n.topbar__search:focus {\n    outline: none;\n}\n\n.toplabelbox__container {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n}\n\n.toplabelbox__widget {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    width: 332px;\n    height: 65px;\n    padding: 22px;\n    box-sizing: border-box;\n    gap: 23px;\n\n}\n\n.toplabelbox__label {\n    font-weight: 700;\n    font-size: 32px;\n    line-height: 36px;\n    color: #1D1D1D;\n}\n\n.widget__text {\n    font-size: 18px;\n    line-height: 36px;\n    padding: 12px;\n    box-sizing: border-box;\n}\n\n.widget__text--city {\n    font-weight: 500;\n    color: #838383;\n    width: auto;\n    min-width: 70px;\n}\n\n.widget__text--temperature {\n    font-weight: 700;\n    color: #000000;\n    width: 100%;\n}\n\n.widget__icon {\n    background-image: url("+b+");\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n    min-height: 64px;\n    min-width: 64px;\n\n}\n\n\n.tasks {\n    display: flex;\n    flex-direction: column;\n    gap: 30px;\n}\n\n.tasks__row {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    width: 482px;\n    padding: 8px 12px 8px 12px;\n    box-sizing: border-box;\n}\n\n.task__text {\n    width: 381px;\n    font-size: 18px;\n    font-weight: 400;\n    overflow-wrap: break-word;\n}\n\n.tasks__label {\n    display: flex;\n    flex-direction: column;\n    font-size: 24px;\n    font-weight: 700;\n    line-height: 32.74px;\n    gap: 12px;\n}\n\n.tasks__labelcontainer {\n    display: flex;\n    flex-direction: column;\n}\n\n.tasks__tagholder{\n    display: flex;\n    height: 15px;\n    flex-direction: row;\n    box-sizing: border-box;\n}\n\n.task__checkbox {\n    width: 21px;\n    height: 21px;\n    border: 2px solid #D3D3D3;\n    border-radius: 4px;\n    -moz-appearance:none;\n    -webkit-appearance:none;\n    -o-appearance:none;\n\n}\n\n.task__checkbox:checked {\n    background-color: #D3D3D3;\n    background-image: url("+g+");\n    background-repeat: no-repeat;\n    background-position: center;\n}\n\n.task--complete {\n    color: #838383!important;\n}\n\n.newdaybox {\n    display: none;\n    flex-direction: column;\n    position: absolute;\n    top: 50vh;\n    left: 50vw;\n    width: 524px;\n    min-height: 350px;\n    max-height: 500px;\n    border-radius: 24px;\n    background-color: #FFFFFF;\n    transform: translate(-50%, -50%);\n    padding: 32px;\n    box-sizing: border-box;\n    gap: 24px;\n}\n\n.newdaybox__label {\n    text-align: center;\n    font-size: 24px;\n    font-weight: 700;\n    height: 33px;\n    min-height: 33px;\n    box-sizing: border-box;\n}\n\n.newdaybox__taskslabel {\n    font-size: 16px;\n    font-weight: 500;\n    line-height: 20px;\n}\n\n.newdaybox__tasks {\n    display: flex;\n    flex-direction: column;\n    height: auto;\n    min-height: 100px;\n    gap: 17px;\n    padding: 8px 12px 8px 12px;\n    box-sizing: border-box;\n    overflow-y: scroll;\n    overflow-wrap: break-word;\n\n}\n\n.newdaybox__text {\n    font-size: 16px;\n    font-weight: 400;\n    line-height: 21.82px;\n    padding-left: 12px;\n    box-sizing: border-box;\n    height: 22px;\n\n}\n\n.newdaybox__button {\n    width: 100%;\n    height: 52px;\n    padding: 16px 32px 16px 32px;\n    box-sizing: border-box;\n    border-radius: 12px;\n    border: none;\n}\n\n.newdaybox__button--apply {\n    color: #FFFFFF;\n    font-size: 16px;\n    font-weight: 800;\n    background-color: #3C86F4;\n}\n\n.newitembox {\n    display: none;\n    flex-direction: column;\n    position: absolute;\n    top: 50vh;\n    left: 50vw;\n    width: 524px;\n    height: 371px;\n    border-radius: 24px;\n    background-color: #FFFFFF;\n    transform: translate(-50%, -50%);\n    padding: 32px;\n    box-sizing: border-box;\n    gap: 18px;\n}\n\n.newitembox__label {\n    text-align: center;\n    font-size: 24px;\n    font-weight: 700;\n    height: 33px;\n    min-height: 33px;\n    box-sizing: border-box;\n}\n\n.newitembox__input {\n    height: 52px;\n    min-height: 52px;\n    border: 1px solid red;\n    box-sizing: border-box;\n    background-color: #F5F5F5;\n    border: 1px solid #D2D2D2;\n    border-radius: 12px;\n    padding: 16px 21px 16px 21px;\n}\n\n.newitembox__input::placeholder { \n    color: #D2D2D2;\n}\n\n.newitembox__input:focus {\n    outline: none;\n}\n\n.newitembox__addition {\n    height: 100%;\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: row;\n}\n\n.newitembox__buttons {\n    height: 52px;\n    min-height: 52px;\n    box-sizing: border-box;\n}\n\n.newitembox__button {\n    width: 50%;\n    height: 100%;\n    padding: 16px 32px 16px 32px;\n    box-sizing: border-box;\n    border-radius: 12px;\n    border: none;\n}\n\n.newitembox__button--disabled {\n    background-color: #D3D3D3;\n}\n\n.newitembox__button--enabled {\n    background-color: #3C86F4;\n}\n\n.newitembox__button--apply {\n    color: #FFFFFF;\n    font-size: 16px;\n    font-weight: 800;\n}\n\n.newitembox__button--cancel {\n    background-color: #FFFFFF;\n    color: #0053CF;\n    font-size: 16px;\n    font-weight: 800;\n}\n\n.newitembox__tags {\n    display: flex;\n    flex-direction: row;\n    width: 100%;\n    gap: 12px;\n    padding-top: 12px;\n}\n\n.newitembox__date {\n    display: flex;\n    height: 40px;\n    font-size: 16px;\n    font-weight: 500;\n    line-height: 20px;\n    padding: 10px 16px 10px 16px;\n    border: 1px solid red;\n    box-sizing: border-box;\n    border: 2px solid #3C86F499;\n    border-radius: 12px;\n    align-items: center;\n}\n\n.tags__item {\n    display: flex;\n    padding: 2px 8px 2px 8px;\n    height: 19px;\n    width: 52px;\n    box-sizing: border-box;\n    border-radius: 6px;\n    font-size: 12px;\n    font-weight: 500;\n    line-height: 15px;\n    justify-content: center;\n}\n\n.tags__item--health {\n    background-color: #3C86F44F;\n    color: #0053CF;\n}\n\n.tags__item--work {\n    background-color: #E8D7FF;\n    color: #9747FF;\n}\n\n.tags__item--home {\n    background-color: #E2F6E2;\n    color: #639462;\n}\n\n.tags__item--other {\n    background-color: #FFECC7;\n    color: #EA8C00;\n}\n\n.tags__item--time {\n    background-color: transparent;\n    color: #838383;\n    width: auto;\n}\n\n.tags__item--inactive {\n    background-color: #F5F5F5;\n    color: #838383;\n}",""]);const w=m},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",s=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),s&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),s&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,s,o,r){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(s)for(var i=0;i<this.length;i++){var l=this[i][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);s&&a[d[0]]||(void 0!==r&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=r),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),t.push(d))}},t}},667:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},81:e=>{e.exports=function(e){return e[1]}},379:(e,t,n)=>{var s,o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),r=[];function a(e){for(var t=-1,n=0;n<r.length;n++)if(r[n].identifier===e){t=n;break}return t}function i(e,t){for(var n={},s=[],o=0;o<e.length;o++){var i=e[o],l=t.base?i[0]+t.base:i[0],c=n[l]||0,d="".concat(l," ").concat(c);n[l]=c+1;var p=a(d),h={css:i[1],media:i[2],sourceMap:i[3]};-1!==p?(r[p].references++,r[p].updater(h)):r.push({identifier:d,updater:x(h,t),references:1}),s.push(d)}return s}function l(e){var t=document.createElement("style"),s=e.attributes||{};if(void 0===s.nonce){var r=n.nc;r&&(s.nonce=r)}if(Object.keys(s).forEach((function(e){t.setAttribute(e,s[e])})),"function"==typeof e.insert)e.insert(t);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var c,d=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function p(e,t,n,s){var o=n?"":s.media?"@media ".concat(s.media," {").concat(s.css,"}"):s.css;if(e.styleSheet)e.styleSheet.cssText=d(t,o);else{var r=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}function h(e,t,n){var s=n.css,o=n.media,r=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=s;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(s))}}var m=null,u=0;function x(e,t){var n,s,o;if(t.singleton){var r=u++;n=m||(m=l(t)),s=p.bind(null,n,r,!1),o=p.bind(null,n,r,!0)}else n=l(t),s=h.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return s(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;s(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===s&&(s=Boolean(window&&document&&document.all&&!window.atob)),s));var n=i(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var s=0;s<n.length;s++){var o=a(n[s]);r[o].references--}for(var l=i(e,t),c=0;c<n.length;c++){var d=a(n[c]);0===r[d].references&&(r[d].updater(),r.splice(d,1))}n=l}}}},669:(e,t,n)=>{e.exports=n.p+"82cce8e31a984184b83f.svg"},55:(e,t,n)=>{e.exports=n.p+"111c50f4feddf38d5db3.svg"},932:(e,t,n)=>{e.exports=n.p+"0c6a4ecc87bff5f38658.svg"},606:(e,t,n)=>{e.exports=n.p+"c59613591859912a3102.svg"}},t={};function n(s){var o=t[s];if(void 0!==o)return o.exports;var r=t[s]={id:s,exports:{}};return e[s](r,r.exports,n),r.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var s=t.getElementsByTagName("script");s.length&&(e=s[s.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{var e=n(379),t=n.n(e),s=n(460);t()(s.Z,{insert:"head",singleton:!1}),s.Z.locals;class o{constructor(){this.state={},this.props={},this.element=document.createElement("div")}setState(e,t=!1,n=!0){this.state={...this.state,...e},n&&this.update(),t&&t()}render(e={}){this.props={...e};const t=this.element;return t.classList=e.class,t.onclick=e.onClick,t.placeholder=e.placeholder,t.type=e.type,t.id=e.id,t.oninput=e.onInput,t.onchange=e.onChange,t.checked=e.checked,t.onload=e.onLoad,e.isDisabled?t.disabled=e.isDisabled:t.disabled=!1,e.style&&(t.style=e.style),e.value&&(t.value=e.value),e.onSearch&&(t.onsearch=e.onSearch),e.htmltext?t.innerHTML=e.htmltext:t.innerHTML="",t.append(...e.children),t}update(){this.render(this.props)}}class r extends o{constructor(){super(),this.element=document.createElement("button")}render(e){return super.render({id:e.id,onClick:e.onClick,children:[],class:e.class,htmltext:e.htmltext,style:e.style,isDisabled:e.isDisabled})}}class a extends o{constructor(){super(),this.element=document.createElement("Label")}render(e){return super.render({id:e.id,htmltext:e.text,onClick:e.onClick,children:[],class:e.class,style:this.state.style})}}class i extends o{constructor(){super(),this.element=document.createElement("Input")}render(e){return super.render({id:e.id,children:[],value:e.value,placeholder:e.text,class:e.class,type:e.type,style:this.state.style,onInput:e.onInput,onChange:e.onChange,onSearch:e.onSearch,checked:e.checked})}}class l extends o{constructor(){super(),this.element=document.createElement("div")}render(e){return super.render({class:e.class,children:e.children,htmltext:e.htmltext,id:e.id,style:e.style})}}class c extends o{constructor(){super(),this.element=document.createElement("div")}render(e){return super.render({class:e.class,htmltext:e.htmltext,id:e.id,i:e.i,style:e.style,children:[(new i).render({id:e.prefix+"CheckBox_"+e.i,children:[],text:e.item,class:"task__checkbox",type:"checkbox",onChange:e.onChange,checked:e.checked}),(new d).render({id:e.prefix+"LabelContainer_"+e.i,class:"tasks__labelcontainer",labelState:e.labelState,tagState:e.tagState,prefix:e.prefix,i:e.i,item:e.item}),(new r).render({id:e.prefix+"Button_"+e.i,class:"button__remove ",onClick:e.buttonOnClick,htmltext:"",style:e.buttonBacground})]})}}class d extends o{constructor(){super(),this.element=document.createElement("div")}render(e){return super.render({class:e.class,htmltext:e.htmltext,id:e.id,i:e.i,item:e.item,style:e.style,tagState:e.tagState,children:[(new a).render({id:e.prefix+"Label_"+e.i,text:e.item.name,class:"task__text"+e.labelState}),(new p).render({id:e.prefix+"TagHolder_"+e.i,class:"tasks__tagholder",prefix:e.prefix,tagState:e.tagState,i:e.i})]})}}class p extends o{constructor(){super(),this.element=document.createElement("div")}render(e){return super.render({class:e.class,htmltext:e.htmltext,id:e.id,style:e.style,children:[(new a).render({id:e.prefix+"Tag_"+e.i,text:"tag",class:"tags__item"+e.tagState}),(new a).render({id:e.prefix+"Time_"+e.i,text:"time",class:"tags__item tags__item--time"})]})}}class h extends o{constructor(){super(),this.element=document.createElement("div")}render(e){return super.render({id:e.id,class:e.class,style:e.style,children:[(new a).render({id:"NewDayLabel",text:"Good morning",class:"newdaybox__label",children:[]}),(new a).render({id:"NewDayTasksLabel",text:"You have the next planned tasks for today: ",class:"newdaybox__taskslabel",children:[]}),(new l).render({id:"NewDayTasks",text:"",class:"newdaybox__tasks",children:this.CreateListForMorningGreeting(e.tasks)}),(new r).render({id:"NewDayLabel",htmltext:"Ok",class:"newdaybox__button newdaybox__button--apply",onClick:e.buttonOnClick,children:[]})]})}CreateListForMorningGreeting=e=>{let t,n=[];for(t in e)n.push((new a).render({id:"morningTask_"+t,text:e[t].name,class:"newdaybox__text"}));return n}}class m extends o{constructor(){super(),this.element=document.createElement("div")}render(e){return super.render({id:e.id,class:e.class,style:e.style,children:[(new a).render({id:"NewItemLabel",text:"Add New Item",class:"newitembox__label",children:[]}),(new i).render({id:"NewItemInput",children:[],class:"newitembox__input",text:"New Task",type:"search",onSearch:this.NewTaskOnEnter,onInput:this.AproveNewItem}),(new x).render({id:"NewItemAddition",class:"newitembox__addition",currentDate:e.currentDate}),(new u).render({id:"NewItemButtons",class:"newitembox__buttons",buttonOnClick_cancel:e.buttonOnClick_cancel,buttonOnClick_apply:e.buttonOnClick_apply})]})}AproveNewItem=()=>{const e=document.getElementById("NewItemInput"),t=document.getElementById("NewItemButtonApply");e.value?(1==t.classList.contains("newitembox__button--disabled")&&t.classList.remove("newitembox__button--disabled"),0==t.classList.contains("newitembox__button--enabled")&&t.classList.add("newitembox__button--enabled"),t.disabled=!1):(0==t.classList.contains("newitembox__button--disabled")&&t.classList.add("newitembox__button--disabled"),1==t.classList.contains("newitembox__button--enabled")&&t.classList.remove("newitembox__button--enabled"),t.disabled=!0)};NewTaskOnEnter=()=>{const e=document.getElementById("NewItemButtonApply");0==e.disabled&&e.onclick.apply()}}class u extends o{constructor(){super(),this.element=document.createElement("div")}render(e){return super.render({id:e.id,class:e.class,children:[(new r).render({id:"NewItemButtonCancel",class:"newitembox__button newitembox__button--cancel",htmltext:"Cancel",isDisabled:!1,onClick:e.buttonOnClick_cancel}),(new r).render({id:"NewItemButtonApply",class:"newitembox__button newitembox__button--apply newitembox__button--disabled",htmltext:"Add Task",isDisabled:!0,onClick:e.buttonOnClick_apply})]})}}class x extends o{constructor(){super(),this.state={weatherUrl:"https://api.weatherapi.com/v1",weatherKey:"d9e8739732f24f7f942112753231504",weather:{position:"Tbilisi",temperature:"??",icon:"icons/weather/64x64/day/116.png"}},this.element=document.createElement("div")}render(e){return super.render({id:e.id,class:e.class,style:e.style,children:[(new l).render({id:"NewItemTags",class:"newitembox__tags",children:[(new a).render({id:"NewItemTag0",class:"tags__item tags__item--health",text:"health",children:[]}),(new a).render({id:"NewItemTag1",class:"tags__item tags__item--work",text:"work",children:[]}),(new a).render({id:"NewItemTag2",class:"tags__item tags__item--home",text:"home",children:[]}),(new a).render({id:"NewItemTag3",class:"tags__item tags__item--other",text:"other",children:[]})]}),(new a).render({id:"NewItemDate",class:"newitembox__date",text:e.currentDate,children:[]})]})}}class b extends o{constructor(){super(),this.element=document.createElement("div")}render(e){return super.render({id:e.id,class:e.class,style:e.style,children:[(new l).render({id:"topLabelIcon",class:"widget__icon",style:"background-image: url("+e.weather.icon+");",children:[]}),(new a).render({id:"topLabelTemperature",text:e.weather.temperature+"&#176",class:"toplabelbox__text widget__text--temperature"}),(new a).render({id:"topLabelCity",text:e.weather.position,class:"toplabelbox__text widget__text--city"})]})}}class g extends o{constructor(){super(),this.element=document.createElement("div"),this.state={taskItems:[],completeItems:[]}}render(e){const t=localStorage.getItem("searchPattern");return this.setState({taskItems:e.taskItems,completeItems:e.completeItems},!1,!1),super.render({id:e.id,class:e.class,children:[(new i).render({id:"SearchString",children:[],value:t,class:"topbar__search",text:"Search Task",type:"search",onInput:this.SearchInListsOfTasks}),(new r).render({id:"AddButton",class:"button__add",htmltext:"+ New Task",onClick:e.onButtonClick})]})}SearchInListsOfTasks=()=>{const e=document.getElementById("SearchString").value;let t;for(t in localStorage.setItem("searchPattern",e),this.state.taskItems){let n=document.getElementById("Task_"+t);n.style.display="none",this.state.taskItems[t].name.match(e)&&(n.style.display="flex")}for(t in this.state.completeItems){let n=document.getElementById("Complete_"+t);n.style.display="none",this.state.completeItems[t].name.match(e)&&(n.style.display="flex")}}}class w extends o{constructor(){super(),this.element=document.createElement("div")}render(e){return super.render({id:e.id,class:e.class,children:[(new a).render({id:"ToDoLabel",text:"To Do List",class:"toplabelbox__label"}),(new b).render({id:"topLabelWidget",class:"toplabelbox__widget",weather:e.weather})]})}}class f extends o{constructor(){super(),this.element=document.createElement("div")}render(e){return super.render({id:e.id,class:e.class,children:[(new l).render({id:"AllTasks",class:"tasks__label",htmltext:"All Tasks",children:e.actualTasksChildren}),(new l).render({id:"CompletedTasks",class:"tasks__label",htmltext:"Completed Tasks",children:e.completedTasksChildren})]})}}class _ extends o{constructor(){super(),this.element=document.createElement("div")}render(e){return super.render({id:e.id,class:e.class,children:[(new w).render({id:"topLabelBox",class:"toplabelbox__container",weather:e.weather}),(new g).render({id:"TopBar",class:"topbar",taskItems:e.taskItems,completeItems:e.completeItems,onSearchInput:e.onSearchInput,onButtonClick:e.onButtonClick}),(new f).render({id:"TaskContainer",class:"tasks",actualTasksChildren:e.actualTasksChildren,completedTasksChildren:e.completedTasksChildren})]})}}class y extends o{constructor(){super(),this.element=document.createElement("div")}render(e){return super.render({id:e.id,class:e.class,style:e.style.screenLock,children:[(new m).render({id:"NewItemBox",class:"newitembox",style:e.style.newBox,currentDate:e.currentDate,buttonOnClick_cancel:e.buttonOnClick_cancel,buttonOnClick_apply:e.buttonOnClick_apply}),(new h).render({id:"NewDayBox",class:"newdaybox",tasks:e.tasks,style:e.style.newMorning,buttonOnClick:e.buttonOnClick_cancel})]})}}document.body.appendChild((new class extends o{constructor(){super(),this.state={taskItems:[],completeItems:[],listOfTaskElements:"",listOfCompletedTaskElements:"",currentDate:(new Date).toJSON().slice(0,10).split("-").reverse().join("."),localurl:"http://localhost:3004/tasks",githuburl:"https://my-json-server.typicode.com/Swaelf/JS-school-HW-1/tasks",weatherUrl:"https://api.weatherapi.com/v1",weatherKey:"d9e8739732f24f7f942112753231504",style:{screenLock:"display: none;",newMorning:"display: none;",newBox:"display: none;"},weather:{position:"Tbilisi",temperature:"??",icon:"icons/weather/64x64/day/116.png",forLoad:!1}},localStorage.setItem("searchPattern",""),this.GetDataFromServer(),this.LocateMe()}render(e){console.log("render");const[t,n]=this.CreateListOfElements(this.state.taskItems,!1),[s,o]=this.CreateListOfElements(this.state.completeItems,!0);return console.log("id ="+t),this.setState({taskItems:n,completeItems:o,listOfTaskElements:t,listOfCompletedTaskElements:s},!1,!1),this.MorningGreatings(this.state.currentDate),this.WeatherCall(),this.SearchOnLoad(),super.render({id:"oop_container",class:"oop_container",PutDataIntoServer:this.PutDataIntoServer,GetDataFromServer:this.GetDataFromServer,children:[(new y).render({id:"ScreenLock",class:"screenlock",style:this.state.style,currentDate:this.state.currentDate,buttonOnClick_cancel:this.CancelAction,buttonOnClick_apply:this.ApplyItem,tasks:this.state.taskItems}),(new _).render({id:"Container",class:"container",RemoveItemFromTaskList:this.RemoveItemFromTaskList,weather:this.state.weather,taskItems:this.state.taskItems,completeItems:this.state.completeItems,onButtonClick:this.CallNewTaskWindow,actualTasksChildren:this.state.listOfTaskElements,completedTasksChildren:this.state.listOfCompletedTaskElements})]})}LocateMe=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((e=>{this.setState({weather:{position:e.coords.latitude+","+e.coords.longitude,temperature:this.state.weather.temperature,icon:this.state.weather.icon,forLoad:!0}}),console.log(e.coords.latitude+","+e.coords.longitude)}),(e=>{this.setState({weather:{position:this.state.weather.position,temperature:this.state.weather.temperature,icon:this.state.weather.icon,forLoad:!0}}),console.log(e)})):console.log("Geolocation is not supported by your browser")};WeatherCall=async()=>{this.state.weather.forLoad?await fetch(this.state.weatherUrl+"/current.json?key="+this.state.weatherKey+"&q="+this.state.weather.position).then((e=>e.json())).then((e=>{this.setState({weather:{position:e.location.name,temperature:e.current.temp_c,icon:e.current.condition.icon.replace("//cdn.weatherapi.com","icons"),forLoad:!1}}),console.log("weatherLoad = ok")})):console.log("weatherLoad = skip")};MorningGreatings=e=>{localStorage.getItem("currentDate")?localStorage.getItem("currentDate")!=e&&(localStorage.setItem("currentDate",e),this.setState({style:{screenLock:"display: flex;",newMorning:"display: flex;",newBox:"display: none;"}})):(localStorage.setItem("currentDate",e),this.setState({style:{screenLock:"display: flex;",newMorning:"display: flex;",newBox:"display: none;"}}))};SearchOnLoad=()=>{let e,t="";for(e in localStorage.getItem("searchPattern")&&(t=localStorage.getItem("searchPattern")),this.state.listOfTaskElements)this.state.listOfTaskElements[e].style.display="none",console.log(this.state.taskItems[e]),console.log(t),this.state.taskItems[e].name.match(t)&&(this.state.listOfTaskElements[e].style.display="flex");for(e in this.state.listOfCompletedTaskElements)this.state.listOfCompletedTaskElements[e].style.display="none",this.state.completeItems[e].name.match(t)&&(this.state.listOfCompletedTaskElements[e].style.display="flex")};ApplyItem=()=>{const e=document.getElementById("NewItemInput");this.setState({taskItems:[...this.state.taskItems,{name:e.value,isCompleted:!1}],style:{screenLock:"display: none;",newMorning:"display: none;",newBox:"display: none;"}},this.PutDataIntoServer)};DummyLog=()=>{console.log("call from inside")};RemoveItemFromTaskList=(e,t=!0)=>{let n,s=this.state.taskItems;const o=e.srcElement.parentElement.id,r=document.getElementById(o);let a=-1;for(n in s)r.id==s[n].elementID&&(a=n);const i=s.splice(a,1);return this.setState({taskItems:[...s]},t?this.PutDataIntoServer:this.DummyLog),i[0]};RemoveItemFromCompletedTaskList=(e,t=!0)=>{let n,s=this.state.completeItems;const o=e.srcElement.parentElement.id,r=document.getElementById(o);let a=-1;for(n in s)r.id==s[n].elementID&&(a=n);const i=s.splice(a,1);return this.setState({completeItems:[...s]},t?this.PutDataIntoServer:this.DummyLog),i[0]};CancelAction=()=>{console.log("cancel"),this.setState({style:{screenLock:"display: none;",newMorning:"display: none;",newBox:"display: none;"},newdayMkr:!1})};CallNewTaskWindow=()=>{const e=document.getElementById("NewItemButtonApply");e.classList.remove("newitembox__button--enabled"),e.classList.add("newitembox__button--disabled"),e.disabled=!0,this.setState({style:{screenLock:"display: flex;",newMorning:"display: none;",newBox:"display: flex;"}});const t=document.getElementById("NewItemInput");t.value="",t.focus()};CreateListOfElements=(e,t)=>{let n,s,o=[],r=[...e];for(n in s=0==t?{class:"tasks__row",pattern:"Task_",prefix:"Tasks",onChange:this.SetItemAsCompleted,checked:!1,labelState:"",tagState:" tags__item--other",buttonBacground:"background: flex",buttonOnClick:this.RemoveItemFromTaskList}:{class:"tasks__row",pattern:"Complete_",prefix:"Complete",onChange:this.SetItemAsActual,checked:!0,labelState:" task--complete",tagState:" tags__item--inactive",buttonBacground:"background: none",buttonOnClick:""},e)s.id=s.pattern+n,s.i=n,s.item=e[n],o.push((new c).render(s)),r[n].elementID=s.pattern+n;return[o,r]};SetItemAsCompleted=e=>{let t=this.state.completeItems;const n=this.RemoveItemFromTaskList(e,!1);n.isCompleted=!0,console.log(n),this.setState({completeItems:[...t,n]},this.PutDataIntoServer)};SetItemAsActual=e=>{let t=this.state.taskItems;const n=this.RemoveItemFromCompletedTaskList(e,!1);n.isCompleted=!1,console.log(n),this.setState({taskItems:[...t,n]},this.PutDataIntoServer)};GetDataFromServer=async()=>{let e,t=this.state.taskItems,n=this.state.completeItems;console.log("get from server:");try{e=await fetch(this.state.localurl,{method:"GET"}).then((e=>e.json()))}catch(t){if(console.log(t),t=TypeError()){console.log(t);try{e=await fetch(this.state.githuburl,{method:"GET"}).then((e=>e.json()))}catch(t){console.log(t),e=void 0}}else console.log("failed to connect to server"),e=void 0}if(Array.isArray(e)){let s;for(s of e)console.log("get: "+s.title),s.isCompleted?n.push({name:s.title,id:s.id,isCompleted:s.isCompleted}):t.push({name:s.title,id:s.id,isCompleted:s.isCompleted})}this.setState({taskItems:t,completeItems:n})};PutDataIntoServer=async()=>{let e,t;console.log("put into server:");let n=0,s=[];for(t of this.state.taskItems)++n,s.push({id:n,title:t.name,isCompleted:!1});for(t of this.state.completeItems)++n,s.push({id:n,title:t.name,isCompleted:!0});try{if(e=await fetch(this.state.localurl,{method:"GET"}).then((e=>e.json())),Array.isArray(e))for(t in e)console.log("deleting "+this.state.localurl+"/"+(Math.floor(t)+1)),await fetch(this.state.localurl+"/"+(Math.floor(t)+1),{method:"DELETE"}).catch((e=>console.log(e)));for(t in s)console.log("posting "+this.state.localurl+"/"+(Math.floor(t)+1)),await fetch(this.state.localurl,{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(s[t])}).catch((e=>console.log(e)))}catch(n){if(console.log(n),n=TypeError()){console.log(n);try{if(e=await fetch(this.state.githuburl,{method:"GET"}).then((e=>e.json())),Array.isArray(e))for(t in e)console.log("deleting "+this.state.githuburl+"/"+(Math.floor(t)+1)),await fetch(this.state.githuburl+"/"+(Math.floor(t)+1),{method:"DELETE"}).catch((e=>console.log(e)));for(t in s)console.log("posting "+this.state.githuburl+"/"+(Math.floor(t)+1)),await fetch(this.state.githuburl,{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(s[t])}).catch((e=>console.log(e)))}catch(t){console.log(t),e=void 0}}else console.log("failed to connect to server"),e=void 0}}}).render())})()})();